{% extends 'admin/change_form.html' %}

{% block submit_buttons_bottom %}
    {{ block.super }}
    <div class="submit-row">
        <input type="submit" value="Опубликовать" name="publish_btn" class="default">
        <input type="submit" value="Отклонить" name="reject_btn" class="default">
        <input type="submit" value="Удалить без подтвержд." name="delete_btn" style="background: var(--delete-button-bg); border-radius: 4px; padding: 10px 15px; height: 37px; line-height: 15px; color: var(--button-fg);">
    </div>
    
    <!-- Чтобы, если мы подтвержаем объявление в админ-панели не приходило уведомление, что объъявление изменили (когда идёт сигнал, статут не published, а edited) -->
    <script>
        document.getElementsByName('publish_btn')[0].addEventListener('click', function(e) {
            const select = document.querySelector('#id_status').getElementsByTagName('option')[0]; // published
            select.selected = true;
        });
        document.getElementsByName('reject_btn')[0].addEventListener('click', function(e) {
            const select = document.querySelector('#id_status').getElementsByTagName('option')[2]; // rejected
            select.selected = true;
        });
    </script>
{% endblock %}